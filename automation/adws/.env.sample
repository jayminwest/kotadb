# ADW automation environment template.
# Copy to adws/.env (gitignored) and populate the required secrets.

# Python module resolution (required for uv run scripts with inline dependencies)
# This allows scripts to import from the adws package when using `uv run`
PYTHONPATH=.

# Claude Code / Anthropic access
ANTHROPIC_API_KEY=
CLAUDE_CODE_PATH=claude

# GitHub automation
GITHUB_PAT=

# Home server integration (Tailscale)
HOMESERVER_URL=https://<YOUR_HOMESERVER>.ts.net
HOMESERVER_TASKS_ENDPOINT=/api/tasks/kotadb

# Optional: sandboxed execution providers
E2B_API_KEY=

# MCP (Model Context Protocol) integration
# Connect ADW agents to KotaDB's MCP server for code intelligence tools
# Generate automation API key with: cd app && bun scripts/generate-automation-key.ts
MCP_SERVER_URL=http://localhost:3000/mcp
KOTA_MCP_API_KEY=

# Worktree management configuration
# Automatically remove worktrees after successful PR creation (default: 'true')
ADW_CLEANUP_WORKTREES=true

# Clean up worktrees even on workflow failure (default: 'false')
# Useful for CI/CD environments to avoid accumulating stale worktrees
ADW_CLEANUP_ON_FAILURE=false

# Base directory for worktrees (default: 'automation/trees')
# All isolated worktrees will be created under this directory relative to project root
ADW_WORKTREE_BASE_PATH=automation/trees

# Uncomment to override values defined in the root .env for ADW runs.
# ADW_ENV=local
# ADW_LOG_ROOT=.adw_logs
# ADW_RUNNER_IMAGE=kotadb-adw-runner:latest
